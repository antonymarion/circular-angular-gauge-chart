{"version":3,"file":"angular-gauge-chart.js","sources":["ng://angular-gauge-chart/lib/gauge-chart.component.ts","ng://angular-gauge-chart/lib/gauge-chart.module.ts","ng://angular-gauge-chart/public_api.ts","ng://angular-gauge-chart/angular-gauge-chart.ts"],"sourcesContent":["/**\r\n * Angular 2 decorators and services\r\n */\r\nimport {\r\n  Component,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  ViewChild,\r\n  DoCheck,\r\n} from '@angular/core'\r\nimport * as GaugeChart from 'gauge-chart'\r\n\r\n/**\r\n * GaugeChart Component\r\n */\r\n@Component({\r\n  selector: 'circular-gauge-chart',\r\n  templateUrl: './gauge-chart.component.html',\r\n  styleUrls: ['./gauge-chart.component.css'],\r\n})\r\nexport class GaugeChartComponent implements OnInit, OnChanges, DoCheck {\r\n  @ViewChild('gaugeArea', { static: true }) gaugeArea\r\n\r\n  @Input() canvasWidth: number\r\n  @Input() canvasHeight: number\r\n  @Input() needleValue: number\r\n  @Input() totalValue: number\r\n  @Input() centralLabel: string\r\n  @Input() options\r\n  @Input() wrapOptions?\r\n  @Input() name?: string\r\n  @Input() nameFont?: string\r\n  @Input() bottomLabel?: string\r\n  @Input() customDisplayLabel?: string\r\n  @Input() bottomLabelFont?: string\r\n  @Input() customBottomLabelMargin?: string\r\n\r\n  public nameMargin: string\r\n  public bottomLabelMargin: string\r\n\r\n  private element\r\n  private gaugeChart: any\r\n  private oldOptions\r\n\r\n  ngOnInit() {\r\n    // calculate styles for name and bottomLabel\r\n    if (this.name) {\r\n      if (!this.nameFont) {\r\n        this.nameFont = '' + Math.round(this.canvasWidth / 15)\r\n      }\r\n      this.nameMargin = '' + Math.round(+this.nameFont / 4)\r\n    }\r\n\r\n    if (this.bottomLabel) {\r\n      if (!this.bottomLabelFont) {\r\n        this.bottomLabelFont = '' + Math.round(this.canvasWidth / 10)\r\n      }\r\n      if (!this.customBottomLabelMargin) {\r\n        this.bottomLabelMargin = '-' + this.bottomLabelFont\r\n      } else {\r\n        this.bottomLabelMargin = this.customBottomLabelMargin\r\n      }\r\n      if (!this.customDisplayLabel) {\r\n        this.customDisplayLabel = 'block'\r\n      }\r\n    }\r\n\r\n    if (this.optionsCheck()) {\r\n      this.element = this.gaugeArea.nativeElement\r\n      this.drawChart()\r\n    }\r\n    this.oldOptions = JSON.parse(JSON.stringify(this.options))\r\n  }\r\n\r\n  optionsCheck() {\r\n    if (this.canvasWidth == null) {\r\n      console.warn('gauge-chart warning: canvasWidth is not specified!')\r\n      return false\r\n    }\r\n    if (this.canvasHeight == null) {\r\n      console.warn('gauge-chart warning: canvasWidth is not specified!')\r\n      return false\r\n    } else if (this.needleValue == null) {\r\n      console.warn('gauge-chart warning: needleValue is not specified!')\r\n      return false\r\n    }\r\n    if (this.centralLabel == null) {\r\n      this.centralLabel = ''\r\n    }\r\n    this.canvasHeight += 10\r\n    return true\r\n  }\r\n\r\n  ngDoCheck() {\r\n    if (!this.areEqual(this.options, this.oldOptions)) {\r\n      this.drawChart(true)\r\n      this.oldOptions = JSON.parse(JSON.stringify(this.options))\r\n    }\r\n  }\r\n\r\n  areEqual(obj1, obj2) {\r\n    return JSON.stringify(obj1) === JSON.stringify(obj2)\r\n  }\r\n\r\n  drawChart(redraw = true) {\r\n    if (redraw && this.gaugeChart) {\r\n      this.gaugeChart.removeGauge()\r\n    }\r\n    this.options.centralLabel = this.centralLabel\r\n    this.options.arcDelimiters[0] > 99 ? this.options.arcDelimiters[0] = 99 : ''\r\n    this.options.arcDelimiters[0] < 1 ? this.options.arcDelimiters[0] = 1 : ''\r\n    this.gaugeChart = GaugeChart.gaugeChart(\r\n      this.element,\r\n      this.canvasWidth,\r\n      this.options,\r\n    )\r\n    this.gaugeChart.updateNeedle(this.needleValue)\r\n  }\r\n\r\n  ngOnChanges(changes) {\r\n    if (changes.needleValue && !changes.needleValue.firstChange) {\r\n      this.needleValue = changes.needleValue.currentValue\r\n\r\n      this.gaugeChart.removeGauge()\r\n      this.bottomLabel = this.centralLabel = this.options.bottomLabel = this.options.centralLabel =\r\n        '' + this.needleValue + '/' + this.totalValue\r\n      this.gaugeChart = GaugeChart.gaugeChart(\r\n        this.element,\r\n        this.canvasWidth,\r\n        this.options,\r\n      )\r\n\r\n      const arcDelimiterValue = Math.floor(\r\n        (100 * this.needleValue) / this.totalValue,\r\n      )\r\n      this.options.arcDelimiters[0] =\r\n        arcDelimiterValue > 100 ? 99 : arcDelimiterValue\r\n      this.options.arcDelimiters[0] < 1 ? this.options.arcDelimiters[0] = 1 : ''\r\n\r\n      this.gaugeChart.updateNeedle(this.needleValue)\r\n    }\r\n    if (changes.centralLabel && !changes.centralLabel.firstChange) {\r\n      this.centralLabel = changes.centralLabel.currentValue\r\n      this.drawChart(true)\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core'\r\nimport { GaugeChartComponent } from './gauge-chart.component'\r\n\r\n@NgModule({\r\n  imports: [],\r\n  declarations: [GaugeChartComponent],\r\n  exports: [GaugeChartComponent],\r\n})\r\nexport class CircularGaugeChartModule {}\r\n","/*\n * Public API Surface of gauge-chart\n */\n\nexport * from './lib/gauge-chart.component'\nexport * from './lib/gauge-chart.module'\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["GaugeChart.gaugeChart"],"mappings":"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"}