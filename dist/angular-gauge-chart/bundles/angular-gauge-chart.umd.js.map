{"version":3,"file":"angular-gauge-chart.umd.js","sources":["ng://angular-gauge-chart/lib/gauge-chart.component.ts","ng://angular-gauge-chart/lib/gauge-chart.component.html","ng://angular-gauge-chart/lib/gauge-chart.module.ts"],"sourcesContent":["/**\n * Angular 2 decorators and services\n */\nimport {\n  Component,\n  Input,\n  OnChanges,\n  OnInit,\n  ViewChild,\n  DoCheck,\n} from '@angular/core'\nimport * as GaugeChart from 'gauge-chart'\n\n/**\n * GaugeChart Component\n */\n@Component({\n  selector: 'circular-gauge-chart',\n  templateUrl: './gauge-chart.component.html',\n  styleUrls: ['./gauge-chart.component.css'],\n})\nexport class GaugeChartComponent implements OnInit, OnChanges, DoCheck {\n  @ViewChild('gaugeArea', { static: true }) gaugeArea\n\n  @Input() canvasWidth: number\n  @Input() canvasHeight: number\n  @Input() needleValue: number\n  @Input() centralLabel: string\n  @Input() options\n  @Input() wrapOptions?\n  @Input() name?: string\n  @Input() nameFont?: string\n  @Input() bottomLabel?: string\n  @Input() customDisplayLabel?: string\n  @Input() bottomLabelFont?: string\n  @Input() customBottomLabelMargin?: string\n\n  public nameMargin: string\n  public bottomLabelMargin: string\n\n  private element\n  private gaugeChart: any\n  private oldOptions\n\n  ngOnInit() {\n    // calculate styles for name and bottomLabel\n    if (this.name) {\n      if (!this.nameFont) {\n        this.nameFont = '' + Math.round(this.canvasWidth / 15)\n      }\n      this.nameMargin = '' + Math.round(+this.nameFont / 4)\n    }\n\n    if (this.bottomLabel) {\n      if (!this.bottomLabelFont) {\n        this.bottomLabelFont = '' + Math.round(this.canvasWidth / 10)\n      }\n      if (!this.customBottomLabelMargin) {\n        this.bottomLabelMargin = '-' + this.bottomLabelFont\n      } else {\n        this.bottomLabelMargin = this.customBottomLabelMargin\n      }\n      if (!this.customDisplayLabel) {\n        this.customDisplayLabel = 'block'\n      }\n    }\n\n    if (this.optionsCheck()) {\n      this.element = this.gaugeArea.nativeElement\n      this.drawChart()\n    }\n    this.oldOptions = JSON.parse(JSON.stringify(this.options))\n  }\n\n  optionsCheck() {\n    if (this.canvasWidth == null) {\n      console.warn('gauge-chart warning: canvasWidth is not specified!')\n      return false\n    }\n    if (this.canvasHeight == null) {\n      console.warn('gauge-chart warning: canvasWidth is not specified!')\n      return false\n    } else if (this.needleValue == null) {\n      console.warn('gauge-chart warning: needleValue is not specified!')\n      return false\n    }\n    if (this.centralLabel == null) {\n      this.centralLabel = ''\n    }\n    this.canvasHeight += 10\n    return true\n  }\n\n  ngDoCheck() {\n    if (!this.areEqual(this.options, this.oldOptions)) {\n      this.drawChart(true)\n      this.oldOptions = JSON.parse(JSON.stringify(this.options))\n    }\n  }\n\n  areEqual(obj1, obj2) {\n    return JSON.stringify(obj1) === JSON.stringify(obj2)\n  }\n\n  drawChart(redraw = false) {\n    if (redraw) {\n      this.gaugeChart.removeGauge()\n    }\n    this.options.centralLabel = this.centralLabel\n    this.gaugeChart = GaugeChart.gaugeChart(\n      this.element,\n      this.canvasWidth,\n      this.options,\n    )\n    this.gaugeChart.updateNeedle(this.needleValue)\n  }\n\n  ngOnChanges(changes) {\n    if (changes.needleValue && !changes.needleValue.firstChange) {\n      this.needleValue = changes.needleValue.currentValue\n      this.gaugeChart.updateNeedle(this.needleValue)\n    }\n    if (changes.centralLabel && !changes.centralLabel.firstChange) {\n      this.centralLabel = changes.centralLabel.currentValue\n      this.drawChart(true)\n    }\n  }\n}\n","<div class=\"gauge-chart\"\n     [style.width.px]=\"canvasWidth\"\n     [style.height.px]=\"canvasHeight\"\n>\n  <span\n    [style.font-size.px]=\"nameFont\"\n    [style.margin-bottom.px]=\"nameMargin\">\n    {{name}}\n  </span>\n  <div #gaugeArea></div>\n  <span\n    class=\"gauge-chart__label\"\n    [style.display]=\"customDisplayLabel\"\n    [style.font-size.px]=\"bottomLabelFont\"\n    [style.margin-top.px]=\"bottomLabelMargin\">\n    {{bottomLabel}}\n  </span>\n</div>\n","import { NgModule } from '@angular/core'\nimport { GaugeChartComponent } from './gauge-chart.component'\n\n@NgModule({\n  imports: [],\n  declarations: [GaugeChartComponent],\n  exports: [GaugeChartComponent],\n})\nexport class CircularGaugeChartModule {}\n"],"names":["GaugeChart.gaugeChart","i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵelement","i0.ɵɵstyleProp","i0.ɵɵadvance","i0.ɵɵtextInterpolate1","Component","ViewChild","Input","NgModule"],"mappings":"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"}